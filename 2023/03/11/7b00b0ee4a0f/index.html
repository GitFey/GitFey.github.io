<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>HTTP概览 | 罗辑往事</title><meta name="author" content="罗辑往事"><meta name="copyright" content="罗辑往事"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="据 NetCraft 公司统计，目前全球至少有 16 亿个网站、2 亿多个独立域名，而这个庞大网络世界的底层运转机制就是 HTTP（HyperText Transfer Protocol。）。 起源1989  年，任职于欧洲核子研究中心（CERN）的蒂姆·伯纳斯 - 李（Tim  Berners-Lee）发表了一篇论文，提出了在互联网上构建超链接文档系统的构想。这篇论文中他确立了三项关键技术。">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP概览">
<meta property="og:url" content="http://pfzone.top/2023/03/11/7b00b0ee4a0f/index.html">
<meta property="og:site_name" content="罗辑往事">
<meta property="og:description" content="据 NetCraft 公司统计，目前全球至少有 16 亿个网站、2 亿多个独立域名，而这个庞大网络世界的底层运转机制就是 HTTP（HyperText Transfer Protocol。）。 起源1989  年，任职于欧洲核子研究中心（CERN）的蒂姆·伯纳斯 - 李（Tim  Berners-Lee）发表了一篇论文，提出了在互联网上构建超链接文档系统的构想。这篇论文中他确立了三项关键技术。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://pfzone.top/img/mao1.jpg">
<meta property="article:published_time" content="2023-03-11T03:14:22.000Z">
<meta property="article:modified_time" content="2023-05-19T07:13:56.346Z">
<meta property="article:author" content="罗辑往事">
<meta property="article:tag" content="HTTP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://pfzone.top/img/mao1.jpg"><link rel="shortcut icon" href="/img/christmasjuju.png"><link rel="canonical" href="http://pfzone.top/2023/03/11/7b00b0ee4a0f/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'HTTP概览',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-19 15:13:56'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script src="https://cyan-blog.oss-cn-shenzhen.aliyuncs.com/cdn/js/three.min.js"></script><link rel="stylesheet" href="/css/myfont.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="centered"><div class="blob-1"></div><div class="blob-2"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
//监听页面加载完毕，因为页面加载速度太快，动画太短，禁用此项
window.addEventListener('load',()=> { preloader.endLoading() })  

//2秒自动关闭加载动画
setTimeout(function(){preloader.endLoading();}, 2000);

//鼠标点击事件关闭加载动画，狍狍等不及可以点一下
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()}) 



if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/christmasjuju.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/gallery"><span> 相册</span></a></div></div></div></div><div class="canvas-container" id="canvas"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/mao1.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">罗辑往事</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/gallery"><span> 相册</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">HTTP概览</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-03-11T03:14:22.000Z" title="发表于 2023-03-11 11:14:22">2023-03-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-05-19T07:13:56.346Z" title="更新于 2023-05-19 15:13:56">2023-05-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="HTTP概览"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>据 NetCraft 公司统计，目前全球至少有 16 亿个网站、2 亿多个独立域名，而这个庞大网络世界的底层运转机制就是 <strong>HTTP</strong>（<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol。）。</p>
<h4 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h4><p>1989  年，任职于欧洲核子研究中心（CERN）的蒂姆·伯纳斯 - 李（Tim  Berners-Lee）发表了一篇论文，提出了在互联网上构建超链接文档系统的构想。这篇论文中他确立了三项关键技术。</p>
<ul>
<li>URI：即统一资源标识符，作为互联网上资源的唯一身份；</li>
<li>HTML：即超文本标记语言，描述超文本文档；</li>
<li>HTTP：即超文本传输协议，用来传输超文本。</li>
</ul>
<p>这三项技术在如今的我们看来已经是稀松平常，但在当时却是了不得的大发明。基于它们，就可以把超文本系统完美地运行在互联网上，让各地的人们能够自由地共享信息，蒂姆把这个系统称为“万维网”（World Wide Web），也就是我们现在所熟知的 Web。所以在这一年，我们的英雄“HTTP”诞生了，从此开始了它伟大的征途。</p>
<h5 id="HTTP-x2F-0-9"><a href="#HTTP-x2F-0-9" class="headerlink" title="HTTP&#x2F;0.9"></a>HTTP&#x2F;0.9</h5><p>20 世纪 90  年代初期的互联网世界非常简陋，计算机处理能力低，存储容量小，网速很慢，还是一片“信息荒漠”。网络上绝大多数的资源都是纯文本，很多通信协议也都使用纯文本，所以 HTTP 的设计也不可避免地受到了时代的限制。这一时期的 <strong>HTTP 被定义为 0.9  版</strong>，结构比较简单，为了便于服务器和客户端处理，它也采用了纯文本格式。蒂姆·伯纳斯 -  李最初设想的系统里的文档都是只读的，所以<strong>只允许用“GET”动作</strong>从服务器上获取 HTML 文档，并且在响应请求之后立即关闭连接，功能非常有限。</p>
<h5 id="HTTP-x2F-1-0"><a href="#HTTP-x2F-1-0" class="headerlink" title="HTTP&#x2F;1.0"></a>HTTP&#x2F;1.0</h5><p>经过一系列的草案，<strong>HTTP&#x2F;1.0 版本</strong>在  1996 年正式发布。它在多方面增强了 0.9 版，形式上已经和我们现在的 HTTP 差别不大了，例如：</p>
<ul>
<li>增加了 HEAD、POST  等新方法；</li>
<li>增加了响应状态码，标记可能的错误原因；</li>
<li>引入了协议版本号概念；</li>
<li>引入了 HTTP Header（头部）的概念，让 HTTP  处理请求和响应更加灵活；</li>
<li>传输的数据不再仅限于文本。</li>
</ul>
<p>但 HTTP&#x2F;1.0  并不是一个“标准”，只是记录已有实践和模式的一份参考文档，不具有实际的约束力，相当于一个“备忘录”。所以 HTTP&#x2F;1.0  的发布对于当时正在蓬勃发展的互联网来说并没有太大的实际意义，各方势力仍然按照自己的意图继续在市场上奋力拼杀。</p>
<h5 id="HTTP-x2F-1-1"><a href="#HTTP-x2F-1-1" class="headerlink" title="HTTP&#x2F;1.1"></a>HTTP&#x2F;1.1</h5><p>1995 年，网景的 Netscape Navigator 和微软的 Internet Explorer 开始了著名的“浏览器大战”，再一次极大地推动了 Web 的发展，HTTP&#x2F;1.0 也在这个过程中经受了实践检验。于是在“浏览器大战”结束之后的 1999 年，<strong>HTTP&#x2F;1.1</strong> 发布了 <strong>RFC 文档</strong>，编号为 2616，正式确立了延续十余年的传奇。</p>
<p>从版本号我们就可以看到，HTTP&#x2F;1.1 是对 HTTP&#x2F;1.0 的小幅度修正。但一个重要的区别是：<strong>它是一个“正式的标准”，而不是一份可有可无的“参考文档”。</strong>这意味着今后互联网上所有的浏览器、服务器、网关、代理等等，只要用到 HTTP 协议，就必须严格遵守这个标准，相当于是互联网世界的一个“立法”。</p>
<p><strong>HTTP&#x2F;1.1</strong> 主要的变更点有：</p>
<ul>
<li>增加了 PUT、DELETE 等新的方法；</li>
<li>增加了缓存管理和控制；</li>
<li>明确了连接管理，允许持久连接；</li>
<li>允许响应数据分块（chunked），利于传输大文件；</li>
<li>强制要求 Host 头，让互联网主机托管成为可能。</li>
</ul>
<p>Google 在 2015 年发布了 <strong>HTTP&#x2F;2</strong>，RFC 编号 7540。</p>
<h5 id="HTTP-x2F-2"><a href="#HTTP-x2F-2" class="headerlink" title="HTTP&#x2F;2"></a>HTTP&#x2F;2</h5><p><strong>HTTP&#x2F;2</strong> 的制定充分考虑了现今互联网的现状：宽带、移动、不安全，在高度兼容 HTTP&#x2F;1.1 的同时在性能改善方面做了很大努力，主要的特点有：</p>
<ul>
<li>二进制协议，不再是纯文本；</li>
<li>可发起多个请求，废弃了 1.1 里的管道；</li>
<li>使用专用算法压缩头部，减少数据传输量；</li>
<li>允许服务器主动向客户端推送数据；增强了安全性，“事实上”要求加密通信。</li>
</ul>
<p>虽然 HTTP&#x2F;2 到今天已经四岁，也衍生出了 gRPC 等新协议，但由于 HTTP&#x2F;1.1 实在是太过经典和强势，目前它的普及率还比较低，大多数网站使用的仍然还是 20 年前的 HTTP&#x2F;1.1。</p>
<h5 id="HTTP3"><a href="#HTTP3" class="headerlink" title="HTTP3"></a>HTTP3</h5><p>在 2018 年，互联网标准化组织  IETF 提议将“HTTP over QUIC”更名为“<strong>HTTP&#x2F;3</strong>”并获得批准，HTTP&#x2F;3  正式进入了标准化制订阶段，也许两三年后就会正式发布，到时候我们很可能会跳过 HTTP&#x2F;2 直接进入 HTTP&#x2F;3。</p>
<h5 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h5><p>回顾了 HTTP 协议的整个发展过程，在这里简单小结一下内容：</p>
<p><strong>HTTP的发展：</strong></p>
<ol>
<li>HTTP 协议始于三十年前蒂姆·伯纳斯 - 李的一篇论文；</li>
<li>HTTP&#x2F;0.9  是个简单的文本协议，只能获取文本资源；</li>
<li>HTTP&#x2F;1.0 确立了大部分现在使用的技术，但它不是正式标准；</li>
<li>HTTP&#x2F;1.1  是目前互联网上使用最广泛的协议，功能也非常完善；</li>
<li>HTTP&#x2F;2 基于 Google 的 SPDY 协议，注重性能改善，但还未普及；</li>
<li>HTTP&#x2F;3  基于 Google 的 QUIC 协议，是将来的发展方向。</li>
</ol>
<p><strong>HTTP不同版本特点：</strong>  </p>
<ol>
<li>HTTP&#x2F;0.9：  版本功能单一简单， 因前期设计简单， 后期版本更新就会比较容易  </li>
<li>HTTP&#x2F;1.0：  功能相对0.9 更加丰富， 但并不是统一标准 只是一份文档， 不具约束力   </li>
<li>HTTP&#x2F;1.1 ： 相对1.0 添加了小规模更新， 但是它算是一份http统一的标准， 所有的http请求都需严格按照这个标准 </li>
<li>HTTP&#x2F;2 ： 相对1.1 提升了http请求的性能和安全性</li>
</ol>
<p><strong>推动 HTTP 发展的原动力？</strong></p>
<ol>
<li>用户需求。</li>
<li>人类好奇心。</li>
<li>逐利。</li>
</ol>
<p><strong>怎么理解 HTTP（超文本传输协议）？</strong></p>
<p>​	超文本传输协议＝超文本＋传输＋协议，协议即约定，<strong>HTTP的本质是 P（Protocol）</strong>，即一个协议，就是约定超文本怎么传输的，定义了服务端与客户端数据交互的标准。。</p>
<p>​	初心就是分享信息，所以，简单、开放、有求有应，只针对文本，后来出现了音频、视频、动画、图片、超链接这些玩意，比纯文本复杂了一些，不过初心不改，所以，原则未变，只是需要调整一下适应这些正当其时的需求而已。</p>
<h4 id="HTTP概念总览"><a href="#HTTP概念总览" class="headerlink" title="HTTP概念总览"></a>HTTP概念总览</h4><h5 id="HTTP是与不是什么？"><a href="#HTTP是与不是什么？" class="headerlink" title="HTTP是与不是什么？"></a>HTTP是与不是什么？</h5><p>HTTP 就是超文本传输协议，也就是 <strong>H</strong>yperText <strong>T</strong>ransfer <strong>P</strong>rotocol。</p>
<ul>
<li>其本质是<strong>协议</strong>。HTTP 是一个用在计算机世界里的协议。它使用计算机能够理解的语言确立了一种计算机之间交流通信的规范，以及相关的各种控制和错误处理方式。</li>
<li>其次是一个“<strong>传输协议</strong>”。HTTP 是一个在计算机世界里专门用来在两点之间传输数据的约定和规范。</li>
<li>对于“<strong>超文本”</strong>，我们最熟悉的就应该是 HTML 了，它本身只是纯文字文件，但内部用很多标签定义了对图片、音频、视频等的链接，再经过浏览器的解释，呈现在我们面前的就是一个含有多种视听信息的页面。</li>
</ul>
<p>答：**<u>“HTTP 是一个在计算机世界里专门在两点之间传输文字、图片、音频、视频等超文本数据的约定和规范”</u>**</p>
<p>HTTP不存在单独实体、不是互联网，不是编程语言，不是HTML，<u>不是孤立的协议</u></p>
<p>在互联网世界里，HTTP 通常跑在 TCP&#x2F;IP 协议栈之上，依靠 IP 协议实现寻址和路由、TCP 协议实现可靠数据传输、DNS 协议实现域名查找、SSL&#x2F;TLS  协议实现安全通信。此外，还有一些协议依赖于 HTTP，例如 WebSocket、HTTPDNS 等。这些协议相互交织，构成了一个协议网，而  HTTP 则处于中心地位。</p>
<p><strong>总结：</strong></p>
<ol>
<li>HTTP  是一个用在计算机世界里的协议，它确立了一种计算机之间交流通信的规范，以及相关的各种控制和错误处理方式。</li>
<li>HTTP  专门用来在两点之间传输数据，不能用于广播、寻址或路由。</li>
<li>HTTP 传输的是文字、图片、音频、视频等超文本数据。</li>
<li>HTTP  是构建互联网的重要基础技术，它没有实体，依赖许多其他的技术来实现，但同时许多技术也都依赖于它。</li>
</ol>
<h5 id="HTTP相关概念"><a href="#HTTP相关概念" class="headerlink" title="HTTP相关概念"></a>HTTP相关概念</h5><ol>
<li><p><strong>互联网</strong>上绝大部分资源都使用 HTTP  协议传输；</p>
</li>
<li><p><strong>浏览器</strong>是 HTTP 协议里的请求方，即 User Agent；</p>
</li>
<li><p><strong>服务器</strong>是 HTTP 协议里的应答方，常用的有 Apache 和  Nginx；</p>
</li>
<li><p><strong>CDN</strong> 位于浏览器和服务器之间，主要起到缓存加速的作用；</p>
</li>
<li><p><strong>爬虫</strong>是另一类 User Agent，是自动访问网络资源的程序。</p>
</li>
<li><p><strong>TCP&#x2F;IP</strong> 是网络世界最常用的协议，HTTP  通常运行在 TCP&#x2F;IP 提供的可靠传输基础上；</p>
<p>TCP&#x2F;IP 协议是目前网络世界“事实上”的标准通信协议。</p>
<p>在TCP&#x2F;IP 协议实际上是一系列网络通信协议的统称，其中最核心的两个协议是 TCP（“Transmission Control Protocol”） 和 IP（“Internet Protocol”），其他的还有 UDP、ICMP、ARP 等等，共同构成了一个复杂但有层次的协议栈。在文章《TCP&#x2F;IP与OSI网络分层模型》会详细介绍。</p>
<p>HTTP  是一个”传输协议”，但它不关心寻址、路由、数据完整性等传输细节，而要求这些工作都由下层来处理。因为互联网上最流行的是 TCP&#x2F;IP  协议，而它刚好满足 HTTP 的要求，所以互联网上的 HTTP 协议就运行在了 TCP&#x2F;IP 上，HTTP 也就可以更准确地称为“HTTP  over TCP&#x2F;IP”。</p>
</li>
<li><p><strong>DNS 域名</strong>（“域名系统”，Domain Name System）是 IP 地址的等价替代，需要用<strong>域名解析</strong>实现到 IP 地址的映射；</p>
</li>
<li><p><strong>URI</strong> （统一资源标识符，Uniform Resource Identifier） 是用来标记互联网上资源的一个名字，由“协议名 + 主机名 + 路径”构成，俗称 URL（ 统一资源定位符，Uniform Resource Locator）；</p>
<p>一个标准URI如下：</p>
<p><code>http://nginx.org/en/download.html</code></p>
<p>可以看到，URI  主要有三个基本的部分构成：</p>
<ul>
<li>协议名：即访问该资源应当使用的协议，在这里是“http”；</li>
<li>主机名：即互联网上主机的标记，可以是域名或 IP  地址，在这里是“nginx.org”；</li>
<li>路径：即资源在主机上的位置，使用“&#x2F;”分隔多级目录，在这里是“&#x2F;en&#x2F;download.html”。</li>
</ul>
</li>
<li><p><strong>HTTPS</strong>  (HTTP over SSL&#x2F;TLS”，)相当于“HTTP+SSL&#x2F;TLS+TCP&#x2F;IP”，为 HTTP 套了一个安全的外壳；</p>
</li>
<li><p><strong>代理</strong>是 HTTP  传输过程中的“中转站”，可以实现缓存加速、负载均衡等功能。</p>
</li>
</ol>
<h4 id="HTTP请求与响应"><a href="#HTTP请求与响应" class="headerlink" title="HTTP请求与响应"></a>HTTP请求与响应</h4><p>下面两张图，是HTTP的报文结构体与真实HTTP图。</p>
<p><img src="/./img/posts/10.png"></p>
<p><img src="/./img/posts/11.png"></p>
<p>可以看到，HTTP 的报文结构，它是由 header+body 构成，请求头里有请求方法和请求目标，响应头里有状态码和原因短语。</p>
<h5 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h5><p>这里谈谈请求头里的请求方法。</p>
<p>HTTP&#x2F;1.1  规定了八种方法，单词都必须是大写的形式。八种方法分别为：</p>
<ol>
<li>GET：获取资源，可以理解为读取或者下载数据；</li>
<li>POST：向资源提交数据，相当于写入或上传数据；</li>
<li>HEAD：获取资源的元信息；</li>
<li>PUT：类似 POST；</li>
<li>DELETE：删除资源；</li>
<li>CONNECT：建立特殊的连接隧道；</li>
<li>OPTIONS：列出可对资源实行的方法；</li>
<li>TRACE：追踪请求 -  响应的传输路径。</li>
</ol>
<p>其他方法都可以先放一放，最常见的还是GET和POST。</p>
<p><strong>GET</strong></p>
<p>它的含义是请求从服务器获取资源，这个资源既可以是静态的文本、页面、图片、视频，也可以是由 PHP、Java 动态生成的页面或者其他格式的数据。</p>
<p>GET 方法虽然基本动作比较简单，但搭配 URI 和其他头字段就能实现对资源更精细的操作。</p>
<p><strong>PUT</strong></p>
<p>GET 是从服务器获取数据，而 POST 方法则是相反操作，向 URI 指定的资源提交数据，数据就放在报文的 body 里。</p>
<p><strong>安全</strong></p>
<p>在 HTTP 协议里，所谓的“安全”是指请求方法不会“破坏”服务器上的资源，即不会对服务器上的资源造成实质的修改。</p>
<p>在 HTTP  协议里，所谓的“安全”是指请求方法不会“破坏”服务器上的资源，即不会对服务器上的资源造成实质的修改。</p>
<p>按照这个定义， GET  方法是“安全”的，因为它们是“只读”操作，只要服务器不故意曲解请求方法的处理方式，</p>
<p>无论 GET  操作多少次，服务器上的数据都是“安全的”。</p>
<p>而 POST 操作会修改服务器上的资源，增加或删除数据，所以是“不安全”的。</p>
<p><strong>幂等</strong></p>
<p>所谓的“幂等”实际上是一个数学用语，被借用到了 HTTP 协议里，意思是多次执行相同的操作，结果也都是相同的，即多次“幂”后结果“相等”。</p>
<p>很显然，<u>GET既是安全的也是幂等的。</u>（DELETE 可以多次删除同一个资源，效果都是“资源不存在”，所以也是幂等的。）</p>
<p>按照 RFC 里的语义，POST 是“新增或提交数据”，多次提交数据会创建多个资源，所以<u>不是幂等的</u>；（而 PUT 是“替换或更新数据”，多次更新一个资源，资源还是会第一次更新的状态，所以是幂等的。）（可以对比一下 SQL 来加深理解：把 POST 理解成 INSERT，把 PUT 理解成 UPDATE，这样就很清楚了。多次 INSERT 会添加多条记录，而多次 UPDATE 只操作一条记录，而且效果相同。）</p>
<h5 id="HTTP状态响应码"><a href="#HTTP状态响应码" class="headerlink" title="HTTP状态响应码"></a>HTTP状态响应码</h5><p>服务器收到请求报文，解析后需要进行处理，具体的业务逻辑多种多样，但最后必定是拼出一个响应报文发回客户端。</p>
<p>响应报文 &#x3D; 响应头 + 响应体数据</p>
<p>响应头 &#x3D; 状态行 + 头字段。</p>
<p>接下来就谈谈状态行里的状态响应码。</p>
<p>RFC  标准把状态码分成了五类，用数字的第一位表示分类，范围在100~599。这五类的具体含义是：</p>
<ul>
<li><p>1××：提示信息，表示目前是协议处理的中间状态，还需要后续的操作；属于提示信息，是协议处理的中间状态，实际能够用到的时候很少。</p>
</li>
<li><p>2××：成功，报文已经收到并被正确处理；</p>
</li>
<li><p>3××：重定向，资源位置发生变动，需要客户端重新发送请求；301、302 和 304 分别涉及了 HTTP 协议里重要的“重定向跳转”和“缓存控制”，后面细说。</p>
</li>
<li><p>4××：客户端错误，请求报文有误，服务器无法处理；</p>
</li>
<li><p>5××：服务器错误，服务器在处理请求时内部发生了错误。</p>
</li>
</ul>
<h4 id="HTTP特点"><a href="#HTTP特点" class="headerlink" title="HTTP特点"></a>HTTP特点</h4><p>首先奠定一下HTTP协议的五大特点，这里的讨论范围仅限于 HTTP&#x2F;1.1</p>
<ul>
<li>灵活可扩展</li>
<li>可靠传输</li>
<li>应用层协议</li>
<li>请求-应答通信模式</li>
<li>无状态</li>
</ul>
<p>接下来，谈谈这个五个特点带来的便利与缺点？</p>
<p><strong>灵活可扩展</strong></p>
<p>从HTTP的前世今生可以看出，HTTP最开始是比较简单的，慢慢的随着互联网的发展成长了起来。</p>
<p>在这个过程中，HTTP 协议逐渐增加了请求方法、版本号、状态码、头字段等特性。</p>
<p>而 body 也不再限于文本形式的 TXT 或 HTML，而是能够传输图片、音频视频等任意数据，这些都是源于它的“灵活可扩展”的特点。</p>
<p><strong>可靠传输</strong></p>
<p>第二个特点， HTTP  协议是一个“可靠”的传输协议。</p>
<p>这个特点显而易见，因为 HTTP 协议是基于 TCP&#x2F;IP 的，而 TCP 本身是一个“可靠”的传输协议，所以  HTTP 自然也就继承了这个特性，能够在请求方和应答方之间“可靠”地传输数据。</p>
<p>它的具体做法与 TCP&#x2F;UDP  差不多，都是对实际传输的数据（entity）做了一层包装，加上一个头，然后调用 Socket API，通过 TCP&#x2F;IP  协议栈发送或者接收。</p>
<p>不过我们必须正确地理解“可靠”的含义，HTTP 并不能 100%  保证数据一定能够发送到另一端，在网络繁忙、连接质量差等恶劣的环境下，也有可能收发失败。</p>
<p>“可靠”只是向使用者提供了一个“承诺”，会在下层用多种手段“尽量”保证数据的完整送达。</p>
<p>当然，如果遇到光纤被意外挖断这样的极端情况，即使是神仙也不能发送成功。</p>
<p>所以，“可靠”传输是指在网络基本正常的情况下数据收发必定成功。</p>
<p><strong>应用层协议</strong></p>
<p>第三个特点，HTTP  协议是一个应用层的协议。</p>
<p>这个特点也是不言自明的，但却很重要。</p>
<p>HTTP  凭借着可携带任意头字段和实体数据的报文结构，以及连接控制、缓存代理等方便易用的特性，一出现就“技压群雄”，迅速成为了应用层里的“明星”协议。</p>
<p>只要不太苛求性能，HTTP 几乎可以传递一切东西，满足各种需求，称得上是一个“万能”的协议。</p>
<p><strong>请求-应答通信模式</strong></p>
<p>第四个特点，HTTP 协议使用的是请求 -  应答通信模式。</p>
<p>这个请求 - 应答模式是 HTTP  协议最根本的通信模型。</p>
<p>请求 -  应答模式也明确了 HTTP  协议里通信双方的定位，永远是请求方先发起连接和请求，是主动的，而应答方只有在收到请求后才能答复，是被动的，如果没有请求时不会有任何动作。</p>
<p>当然，请求方和应答方的角色也不是绝对的，在浏览器 - 服务器的场景里，通常服务器都是应答方，但如果将它用作代理连接后端服务器，那么它就可能同时扮演请求方和应答方的角色。</p>
<p>HTTP 的请求 -  应答模式也恰好契合了传统的 C&#x2F;S（Client&#x2F;Server）系统架构，请求方作为客户端、应答方作为服务器。</p>
<p>所以，随着互联网的发展就出现了  B&#x2F;S（Browser&#x2F;Server）架构，用轻量级的浏览器代替笨重的客户端应用，实现零维护的“瘦”客户端，而服务器则摈弃私有通信协议转而使用  HTTP 协议。</p>
<p>此外，请求 - 应答模式也完全符合 RPC（Remote Procedure Call）的工作模式，可以把 HTTP  请求处理封装成远程函数调用，导致了 WebService、RESTful 和 gRPC 等的出现。</p>
<p><strong>无状态</strong></p>
<p>“状态”其实就是客户端或者服务器里保存的一些数据或者标志，记录了通信过程中的一些变化信息。</p>
<p>TCP 协议是有状态的，一开始处于 CLOSED 状态，连接成功后是 ESTABLISHED 状态，断开连接后是 FIN-WAIT 状态，最后又是 CLOSED 状态。这些“状态”就需要 TCP 在内部用一些数据结构去维护，可以简单地想象成是个标志量，标记当前所处的状态，例如 0 是 CLOSED，2 是 ESTABLISHED 等等。</p>
<p>再来看 HTTP，那么对比一下 TCP  就看出来了，在整个协议里没有规定任何的“状态”，客户端和服务器永远是处在一种“无知”的状态。建立连接前两者互不知情，每次收发的报文也都是互相独立的，没有任何的联系。收发报文也不会对客户端或服务器产生任何影响，连接后也不会要求保存任何信息。</p>
<p>所以，HTTP 本质上是无状态的，每个请求都是互相独立、毫无关联的，协议不要求客户端或服务器记录请求相关的信息。</p>
<p>但不要忘了 HTTP 是“灵活可扩展”的，虽然标准里没有规定“状态”，但完全能够在协议的框架里给它“打个补丁”，增加这个特性。</p>
<h4 id="HTTP优缺点"><a href="#HTTP优缺点" class="headerlink" title="HTTP优缺点"></a>HTTP优缺点</h4><ol>
<li>HTTP  最大的优点是简单、灵活和易于扩展；</li>
<li>HTTP 拥有成熟的软硬件环境，应用的非常广泛，是互联网的基础设施；</li>
<li>HTTP  是无状态的，可以轻松实现集群化，扩展性能，但有时也需要用 Cookie 技术来实现“有状态”；</li>
<li>HTTP  是明文传输，数据完全肉眼可见，能够方便地研究分析，但也容易被窃听；</li>
<li>HTTP  是不安全的，无法验证通信双方的身份，也不能判断报文是否被篡改；</li>
<li>HTTP 的性能不算差，但不完全适应现在的互联网，还有很大的提升空间。</li>
</ol>
<p><strong>无状态带来的好与坏。</strong></p>
<ul>
<li><p>好处：</p>
<p>因为服务器没有“记忆能力”，所以就不需要额外的资源来记录状态信息，不仅实现上会简单一些，而且还能减轻服务器的负担，能够把更多的 CPU  和内存用来对外提供服务。</p>
<p>而且，“无状态”也表示服务器都是相同的，没有“状态”的差异，所以可以很容易地组成集群，让负载均衡把请求转发到任意一台服务器，不会因为状态不一致导致处理出错，使用“堆机器”的“笨办法”轻松实现高并发高可用。</p>
</li>
<li><p>坏处：</p>
<p>既然服务器没有“记忆能力”，它就无法支持需要连续多个步骤的“事务”操作。</p>
<p>例如电商购物，首先要登录，然后添加购物车，再下单、结算、支付，这一系列操作都需要知道用户的身份才行，但“无状态”服务器是不知道这些请求是相互关联的，每次都得问一遍身份信息，不仅麻烦，而且还增加了不必要的数据传输量。</p>
<p>所以，HTTP 协议最好是既“无状态”又“有状态”，不过还真有“鱼和熊掌”两者兼得这样的好事，这就是<strong>Cookie 技术</strong></p>
</li>
</ul>
<p><strong>明文传输带来的好与坏</strong></p>
<p>“明文”意思就是协议里的报文（准确地说是 header 部分）不使用二进制数据，而是用简单可阅读的文本形式。</p>
<ul>
<li><p>好处：</p>
<p>不需要借助任何外部工具，用浏览器、Wireshark 或者 tcpdump 抓包后，直接用肉眼就可以很容易地查看或者修改，为我们的开发调试工作带来极大的便利。</p>
</li>
<li><p>坏处：</p>
<p>HTTP 报文的所有信息都会暴露在“光天化日之下”，在漫长的传输链路的每一个环节上都毫无隐私可言，不怀好意的人只要侵入了这个链路里的某个设备，简单地“旁路”一下流量，就可以实现对通信的窥视。</p>
</li>
</ul>
<p><strong>关于它的性能</strong></p>
<ul>
<li>HTTP 协议基于 TCP&#x2F;IP，并且使用了“请求 - 应答”的通信模式，所以性能的关键就在这两点上。</li>
<li>TCP 的性能是不差的，但现在互联网的特点是移动和高并发，不能保证稳定的连接质量，所以在 TCP 层面上 HTTP 协议有时候就会表现的不够好。</li>
<li>而“请求 - 应答”模式则加剧了 HTTP 的性能问题，这就是著名的“队头阻塞”（Head-of-line blocking），当顺序发送的请求序列中的一个请求因为某种原因被阻塞时，在后面排队的所有请求也一并被阻塞，会导致客户端迟迟收不到数据。</li>
<li>为了解决这个问题，就诞生出了一个专门的研究课题“Web 性能优化”，HTTP  官方标准里就有“缓存”一章（RFC7234），非官方的“花招”就更多了，例如切图、数据内嵌与合并，域名分片、JavaScript“黑科技”等等。</li>
<li>不过现在已经有了终极解决方案：HTTP&#x2F;2 和 HTTP&#x2F;3，后面会展开来讲。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://pfzone.top">罗辑往事</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://pfzone.top/2023/03/11/7b00b0ee4a0f/">http://pfzone.top/2023/03/11/7b00b0ee4a0f/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://pfzone.top" target="_blank">罗辑往事</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/HTTP/">HTTP</a></div><div class="post_share"><div class="social-share" data-image="/img/mao1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/14/62abf254c936/"><img class="prev-cover" src="/img/Greece2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">代码随想录-双指针</div></div></a></div><div class="next-post pull-right"><a href="/2023/03/08/efa56d4c923e/"><img class="next-cover" src="/img/Greece1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">代码随想录-字符串</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/03/08/6c0f894441f9/" title="输入url后到看到页面，中间发生了哪些事情？"><img class="cover" src="/img/pic1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-08</div><div class="title">输入url后到看到页面，中间发生了哪些事情？</div></div></a></div><div><a href="/2023/03/20/fc3da201f311/" title="HTTP数据、连接与缓存"><img class="cover" src="/img/mao2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-20</div><div class="title">HTTP数据、连接与缓存</div></div></a></div><div><a href="/2023/03/28/622e6e4683bf/" title="HTTPS与TLS"><img class="cover" src="/img/mao3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-28</div><div class="title">HTTPS与TLS</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/christmasjuju.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">罗辑往事</div><div class="author-info__description">没有人能找到这里，除了你</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/GitFey/GitFey.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎狍狍来访 ！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%B7%E6%BA%90"><span class="toc-number">1.</span> <span class="toc-text">起源</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP-x2F-0-9"><span class="toc-number">1.1.</span> <span class="toc-text">HTTP&#x2F;0.9</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP-x2F-1-0"><span class="toc-number">1.2.</span> <span class="toc-text">HTTP&#x2F;1.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP-x2F-1-1"><span class="toc-number">1.3.</span> <span class="toc-text">HTTP&#x2F;1.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP-x2F-2"><span class="toc-number">1.4.</span> <span class="toc-text">HTTP&#x2F;2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP3"><span class="toc-number">1.5.</span> <span class="toc-text">HTTP3</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E6%A6%82%E5%BF%B5%E6%80%BB%E8%A7%88"><span class="toc-number">2.</span> <span class="toc-text">HTTP概念总览</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E6%98%AF%E4%B8%8E%E4%B8%8D%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">2.1.</span> <span class="toc-text">HTTP是与不是什么？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">2.2.</span> <span class="toc-text">HTTP相关概念</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94"><span class="toc-number">3.</span> <span class="toc-text">HTTP请求与响应</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="toc-number">3.1.</span> <span class="toc-text">HTTP请求方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E7%8A%B6%E6%80%81%E5%93%8D%E5%BA%94%E7%A0%81"><span class="toc-number">3.2.</span> <span class="toc-text">HTTP状态响应码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E7%89%B9%E7%82%B9"><span class="toc-number">4.</span> <span class="toc-text">HTTP特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">5.</span> <span class="toc-text">HTTP优缺点</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By 罗辑往事</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="/js/sky.js"></script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>